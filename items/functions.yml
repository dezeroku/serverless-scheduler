items-get:
  package:
    artifact: .deployment-temp/lambda-zips/items-lambda.zip
  handler: items/get.get
  events:
    - httpApi:
        method: get
        path: /items
        authorizer:
          type: jwt
          id: ${self:custom.tfOutputs.core.value.cognito_authorizer_id}
  environment:
    DYNAMO_DB: ${self:custom.tfOutputs.core.value.items_dynamodb_name}

item-create:
  package:
    artifact: .deployment-temp/lambda-zips/items-lambda.zip
  handler: items/create.create
  events:
    - httpApi:
        method: post
        path: /item/create
        authorizer:
          type: jwt
          id: ${self:custom.tfOutputs.core.value.cognito_authorizer_id}
  environment:
    DYNAMO_DB: ${self:custom.tfOutputs.core.value.items_dynamodb_name}

item-delete:
  package:
    artifact: .deployment-temp/lambda-zips/items-lambda.zip
  handler: items/delete.delete
  events:
    - httpApi:
        method: delete
        path: /item/delete/{item_id}
        authorizer:
          type: jwt
          id: ${self:custom.tfOutputs.core.value.cognito_authorizer_id}
  environment:
    DYNAMO_DB: ${self:custom.tfOutputs.core.value.items_dynamodb_name}

item-update:
  package:
    artifact: .deployment-temp/lambda-zips/items-lambda.zip
  handler: items/update.update
  events:
    - httpApi:
        method: put
        path: /item/update/{item_id}
        authorizer:
          type: jwt
          id: ${self:custom.tfOutputs.core.value.cognito_authorizer_id}
  environment:
    DYNAMO_DB: ${self:custom.tfOutputs.core.value.items_dynamodb_name}
