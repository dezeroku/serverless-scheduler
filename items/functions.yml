items-get:
  package:
    artifact: lambda-deployment-zips/items-lambda.zip
  handler: items/get.get
  events:
    - httpApi:
        method: get
        path: /items
        authorizer: serviceAuthorizer
  environment:
    DYNAMO_DB:
      Ref: DynamoDB

item-create:
  package:
    artifact: lambda-deployment-zips/items-lambda.zip
  handler: items/create.create
  events:
    - httpApi:
        method: post
        path: /item/create
        authorizer: serviceAuthorizer
  environment:
    DYNAMO_DB:
      Ref: DynamoDB

item-delete:
  package:
    artifact: lambda-deployment-zips/items-lambda.zip
  handler: items/delete.delete
  events:
    - httpApi:
        method: delete
        path: /item/delete/{item_id}
        authorizer: serviceAuthorizer
  environment:
    DYNAMO_DB:
      Ref: DynamoDB

item-update:
  package:
    artifact: lambda-deployment-zips/items-lambda.zip
  handler: items/update.update
  events:
    - httpApi:
        method: put
        path: /item/update/{item_id}
        authorizer: serviceAuthorizer
  environment:
    DYNAMO_DB:
      Ref: DynamoDB
